{"version":3,"sources":["../file:/D:/Project/2023/warehouse/assets/scripts/file:/D:/Project/2023/warehouse/assets/scripts/Border.ts","../file:/D:/Project/2023/warehouse/assets/scripts/file:/D:/Project/2023/warehouse/assets/scripts/Box.ts","../file:/D:/Project/2023/warehouse/assets/scripts/file:/D:/Project/2023/warehouse/assets/scripts/CameraManager.ts","../file:/D:/Project/2023/warehouse/assets/scripts/core/file:/D:/Project/2023/warehouse/assets/scripts/core/Constant.ts","../file:/C:/ProgramData/cocos/editors/Creator/3.8.0/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.8.0/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/D:/Project/2023/warehouse/assets/scripts/core/file:/D:/Project/2023/warehouse/assets/scripts/core/EventManager.ts","../file:/D:/Project/2023/warehouse/assets/scripts/file:/D:/Project/2023/warehouse/assets/scripts/GameManager.ts","../file:/D:/Project/2023/warehouse/assets/scripts/file:/D:/Project/2023/warehouse/assets/scripts/PreloadManager.ts","../file:/D:/Project/2023/warehouse/assets/scripts/core/file:/D:/Project/2023/warehouse/assets/scripts/core/Timer.ts","../file:/D:/Project/2023/warehouse/assets/scripts/core/file:/D:/Project/2023/warehouse/assets/scripts/core/Utils.ts","../file:/D:/Project/2023/warehouse/assets/scripts/file:/D:/Project/2023/warehouse/assets/scripts/ViewLoading.ts"],"names":["ccclass","_decorator","property","Border","_dec","_dec2","Line","_class","_class2","_Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_proto","prototype","start","update","deltaTime","Init","pos","boxs","scale","_this2","arrVertex","_loop","i","line","positions","forEach","p","xx","x","yy","y","zz","z","push","v3","node","setScale","clone","setPosition","active","Reset","Vec3","ZERO","Component","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_RF","pop","BOX_STATE","Box","Label","_state","NONE","onLoad","row","floor","col","_createClass","key","get","set","newState","CAMERA_STATE","CameraManager","type","Node","_dec3","_class3","_descriptor2","_touchDirection","Vec2","_interactable","MIN_RADIUS","_curPos","_newPos","_mouseCode","_lookAtPos","_instance","State","input","on","Input","EventType","MOUSE_DOWN","_OnMouseDown","TOUCH_START","_OnTouchStart","TOUCH_MOVE","_OnTouchMove","TOUCH_END","_OnTouchEnd","TOUCH_CANCEL","camera3D","lookAt","onDestroy","off","_UpdateCamera3D","equals","EventMouse","BUTTON_LEFT","getPosition","subtract","BUTTON_RIGHT","Math","abs","rotation","_RotationAroundNode","FORWARD","UP","self","axis","angle","_quat","Quat","v1","v2","pos2","position","rad","PI","fromAxisAngle","transformQuat","add","rotateAround","event","getButton","touchLocation","getLocation","len","subtract2f","getStartLocation","lengthSqr","atan2","_GetDPadDirection","direction","absAngle","MoveCamera","SceneName","ActionViewMain","GameConfig","DebugViewRuntimeControl","_dec4","_descriptor3","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","color","Color","WHITE","BLACK","RED","GREEN","BLUE","canvas","parent","getComponent","Canvas","console","error","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","miscNode","getChildByName","buttonNode","instantiate","name","titleNode","newLabel","EnableAllCompositeModeButton","labelComponent","string","overflow","currentRow","newNode","singleModeToggle","textComponent","getComponentInChildren","RichText","Toggle","TOGGLE","toggleSingleMode","Button","CLICK","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","toggleComponent","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","director","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","activeValue","EventManager","_EventTarget","instance","GetInstance","EventTarget","STATE","GameManager","CCBoolean","ViewLoading","Prefab","_dec5","_dec6","_dec7","_dec8","_descriptor4","_descriptor5","_descriptor6","_descriptor7","state","boxsData","_onLoad","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","KEY_DOWN","onKeyDown","viewLoading","Show","_LoadBoxData","_GenerateBox","_GenerateBorder","_InitPlane","Hide","stop","keyCode","KeyCode","SPACE","VIEW_MAIN","OnViewMainEvent","_SetState","_GetBoxInPool","boxPool","children","find","e","boxNode","boxPrefab","setParent","box","_GetBorderInPool","borderPool","borderNode","borderPrefab","border","Promise","resolve","resources","load","JsonAsset","res","json","_this3","data","nodeBox","offsetRow","_this4","nodeBorder","borderWidth","xPos","zPos","xScale","zScale","plane","paramaters","PreloadManager","preloadScene","INIT","OnSceneLoaded","bind","sceneAsset","log","loadScene","MAIN","Timer","timer","duration","overhead","isDone","SetDuration","AddTime","GetTime","GetTimePercent","IsDone","JustFinished","Update","Rand","min","max","random","RandInt","Clamp","num","callback"],"mappings":"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","file":"all.js","sourcesContent":["\r\nimport { _decorator, Component, Line, v3, Vec3 } from 'cc';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('Border')\r\nexport class Border extends Component\r\n{\r\n    @property(Line)\r\n    private line: Line;    \r\n\r\n    start()\r\n    {\r\n    }\r\n\r\n    update(deltaTime: number)\r\n    {\r\n    }\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    Init(pos: Vec3, boxs: number, scale: Vec3)\r\n    {\r\n        let arrVertex: Vec3[] = [];\r\n        for (let i = 0; i < boxs; i++) \r\n        {            \r\n            this.line.positions.forEach( p => {\r\n                let xx = p.x;\r\n                let yy = p.y;\r\n                let zz = p.z + i;\r\n                arrVertex.push(v3(xx, yy, zz));\r\n            });\r\n            arrVertex.push(v3(0, 0, i));\r\n        }\r\n        this.line.positions = arrVertex;\r\n\r\n        this.node.setScale(scale.clone());\r\n        this.node.setPosition(pos.clone());\r\n        this.node.active = true;\r\n    }\r\n\r\n    Reset()\r\n    {\r\n        this.node.setPosition(Vec3.ZERO);\r\n        this.node.active = false;\r\n    }\r\n\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n    \r\n}","\r\nimport { _decorator, Component, Label, Vec3 } from 'cc';\r\n// import { GameManager } from './GameManager';\r\n// import { IBoxData } from './IBoxData';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum BOX_STATE\r\n{\r\n    NONE,\r\n}\r\n\r\n\r\n@ccclass('Box')\r\nexport class Box extends Component\r\n{\r\n    @property(Label)\r\n    private txtDebug: Label;\r\n\r\n    private _state: BOX_STATE = BOX_STATE.NONE;\r\n\r\n    onLoad()\r\n    {\r\n    }\r\n\r\n    start()\r\n    {\r\n    }\r\n\r\n    update(deltaTime: number)\r\n    {\r\n        \r\n    }\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    Init(row: number, floor: number, col: number)\r\n    {\r\n        this.node.setPosition(row, floor, col);\r\n        this.node.active = true;   \r\n    }\r\n\r\n    Reset()\r\n    {\r\n        this.node.setPosition(Vec3.ZERO);\r\n        this.node.active = false;\r\n    }\r\n\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    get State()\r\n    {\r\n        return this._state;\r\n    }\r\n\r\n    private set State(newState: BOX_STATE)\r\n    {\r\n        this._state = newState;        \r\n    }\r\n\r\n    \r\n}","\r\nimport { _decorator, Component, input, Input, Node, Vec2, EventTouch, v3, Vec3, EventMouse, Quat } from 'cc';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nenum CAMERA_STATE\r\n{\r\n    NONE,\r\n}\r\n\r\n@ccclass('CameraManager')\r\nexport class CameraManager extends Component\r\n{\r\n    private static _instance: CameraManager = null;\r\n    static get instance(): CameraManager\r\n    {\r\n        return this._instance;\r\n    }\r\n\r\n    @property({type: Node})\r\n    camera3D: Node;\r\n    \r\n    @property({type: Node})\r\n    cameraUI: Node;\r\n\r\n    private _state: CAMERA_STATE;\r\n\r\n    private _touchDirection: Vec2 = Vec2.ZERO;\r\n    private _interactable: boolean = true;\r\n\r\n    readonly MIN_RADIUS = 35\r\n\r\n    onLoad()\r\n    {\r\n        CameraManager._instance = this;\r\n    }\r\n    \r\n    start()\r\n    {   \r\n        this.State = CAMERA_STATE.NONE;\r\n        \r\n        input.on(Input.EventType.MOUSE_DOWN, this._OnMouseDown, this);\r\n\r\n        input.on(Input.EventType.TOUCH_START, this._OnTouchStart, this);\r\n        input.on(Input.EventType.TOUCH_MOVE, this._OnTouchMove, this);\r\n        input.on(Input.EventType.TOUCH_END, this._OnTouchEnd, this);\r\n        input.on(Input.EventType.TOUCH_CANCEL, this._OnTouchEnd, this);\r\n\r\n        this._lookAtPos = v3(16, 0, 25);\r\n        this.camera3D.lookAt(this._lookAtPos);\r\n    }\r\n    \r\n    onDestroy () \r\n    {\r\n        input.off(Input.EventType.MOUSE_DOWN, this._OnMouseDown, this);\r\n\r\n        input.off(Input.EventType.TOUCH_START, this._OnTouchStart, this);\r\n        input.off(Input.EventType.TOUCH_MOVE, this._OnTouchMove, this);\r\n        input.off(Input.EventType.TOUCH_END, this._OnTouchEnd, this);\r\n        input.off(Input.EventType.TOUCH_CANCEL, this._OnTouchEnd, this);\r\n    }\r\n\r\n    update(deltaTime: number)\r\n    {\r\n        switch (this._state)\r\n        {\r\n            case CAMERA_STATE.NONE:\r\n                break;            \r\n        }\r\n        this._UpdateCamera3D(deltaTime);\r\n    }\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    private _curPos: Vec3 = Vec3.ZERO;\r\n    private _newPos: Vec3 = Vec3.ZERO;\r\n    private _mouseCode: number = -1;\r\n    private _lookAtPos: Vec3 = Vec3.ZERO;    \r\n\r\n    private _UpdateCamera3D(deltaTime: number)\r\n    {        \r\n        if (!this._touchDirection.equals(Vec2.ZERO) )\r\n        {            \r\n            if (this._mouseCode == EventMouse.BUTTON_LEFT)\r\n            {\r\n                // move Camera 3D\r\n                this._curPos = this.camera3D.getPosition().clone();\r\n                this._newPos = this._curPos.subtract(v3(this._touchDirection.y * 10 * deltaTime, 0, this._touchDirection.x * 10 * deltaTime));\r\n                this.camera3D.setPosition(this._newPos);\r\n\r\n                this._lookAtPos = v3(this._newPos.x, 0, this._newPos.z);\r\n            }\r\n            else if (this._mouseCode == EventMouse.BUTTON_RIGHT)\r\n            {\r\n                // rotate Camera 3D                \r\n                if (Math.abs(this._touchDirection.y) > 0)\r\n                {\r\n                    this.camera3D.rotation = this._RotationAroundNode(this.camera3D, this._lookAtPos, Vec3.FORWARD, -this._touchDirection.y * 15 * deltaTime);\r\n                }\r\n                else if (Math.abs(this._touchDirection.x) > 0)\r\n                {\r\n                    this.camera3D.rotation = this._RotationAroundNode(this.camera3D, this._lookAtPos, Vec3.UP, -this._touchDirection.x * 15 * deltaTime);\r\n                }\r\n                // this.camera3D.lookAt(this._lookAtPos);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _RotationAroundNode(self:Node, pos:Vec3, axis:Vec3, angle:number): Quat\r\n    {\r\n        let _quat=new Quat();\r\n        let v1=new Vec3();\r\n        let v2=new Vec3();\r\n        let pos2: Vec3 = self.position;\r\n        let rad = angle * Math.PI / 180;\r\n        // Calculate the quaternion based on the axis of rotation and \r\n        // the arc of rotation\r\n        Quat.fromAxisAngle(_quat,axis,rad);\r\n        // Subtract, the vector between the target point and the camera point\r\n        Vec3.subtract(v1,pos2,pos);\r\n        // Rotate the vector dir according to the calculated quaternion, and then\r\n        // calculate the rotated distance\r\n        Vec3.transformQuat(v2, v1, _quat);\r\n        self.position=Vec3.add(v2, pos, v2);\r\n        // Rotate the quaternion around the specified axis in world space \r\n        // according to the axis and radian \r\n        Quat.rotateAround(_quat, self.rotation, axis, rad);\r\n        return _quat;\r\n    }\r\n\r\n    private _OnMouseDown(event: EventMouse) \r\n    {        \r\n        // console.log(\"_OnMouseDown\");\r\n        this._mouseCode = event.getButton();\r\n    }\r\n\r\n    private _OnTouchStart(event: EventTouch) \r\n    {\r\n        if (!this._interactable) return;\r\n        this._interactable = false;\r\n\r\n        // console.log(\"_OnTouchStart\");\r\n        // console.log(this._touchDirection);\r\n    }\r\n\r\n    private _OnTouchMove(event: EventTouch)\r\n    {        \r\n        if (this._interactable) return;\r\n        // console.log(\"_OnTouchMove\");\r\n\r\n        let touchLocation = event.getLocation();\r\n        let len = touchLocation.subtract2f(event.getStartLocation().x, event.getStartLocation().y).lengthSqr();\r\n\r\n        if (len > this.MIN_RADIUS)\r\n        {\r\n            let angle: number = Math.atan2(touchLocation.y, touchLocation.x) * 180 / Math.PI;\r\n            this._touchDirection = this._GetDPadDirection(angle);\r\n        }\r\n        else\r\n        {\r\n            this._touchDirection = Vec2.ZERO;\r\n        }\r\n        // console.log(this._touchDirection);\r\n    }\r\n\r\n    private _OnTouchEnd()\r\n    {\r\n        if (this._interactable) return;\r\n        this._interactable = true;\r\n\r\n        // console.log(\"_OnTouchEnd\");\r\n\r\n        this._touchDirection = Vec2.ZERO;\r\n        this._mouseCode = -1;\r\n    }\r\n\r\n    private _GetDPadDirection(angle: number): Vec2\r\n    {\r\n        let direction = new Vec2(0, 0);\r\n        let absAngle = Math.abs(angle);\r\n        \r\n        if (absAngle <= 45)\r\n        {\r\n            direction.x = 1;\r\n        }\r\n        else if (absAngle >= 135)\r\n        {\r\n            direction.x = -1;\r\n        }\r\n        else if (angle > 45 && angle < 135)\r\n        {\r\n            direction.y = 1;\r\n        }\r\n        else\r\n        {\r\n            direction.y = -1;\r\n        }\r\n        return direction;\r\n    }\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    MoveCamera()\r\n    {\r\n\r\n    }\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    get State()\r\n    {\r\n        return this._state;\r\n    }\r\n\r\n    private set State(newState: CAMERA_STATE)\r\n    {\r\n        this._state = newState;        \r\n    }\r\n}","export enum SceneName\r\n{\r\n    INIT            = \"Init\",\r\n    MAIN            = \"Main\",\r\n}\r\n\r\nexport enum EventType\r\n{\r\n    VIEW_MAIN           = \"event_type_View_Main\",\r\n}\r\n\r\nexport enum ActionViewMain\r\n{\r\n    INSTRUCTIONS,\r\n    PLAY_GAME,\r\n    ZEN_MODE,\r\n}\r\n\r\nexport enum GameConfig\r\n{\r\n    MAX_ROW = 12,\r\n    MAX_COL = 9,\r\n    TILE_W = 40,\r\n    TILE_H = 40,\r\n    MAX_METERS = 50,\r\n    MAX_LIFE = 3,\r\n    GAME_TIMER_DURATION = 9000,\r\n\r\n    GAME_PERCENT_ADD = 5,\r\n    GAME_PERCENT_OBTAIN_HEAL = 50,\r\n\r\n    GAME_SCORE_HIT = 1,\r\n    GAME_SCORE_HIT_EYE = 20,\r\n    GAME_SCORE_HIT_GRAPE = 50,\r\n    GAME_SCORE_GEM_GREEN = 100,\r\n    GAME_SCORE_GEM_PURPLE = 200,\r\n\r\n    GAME_CLOCK_ADD = 15,\r\n}\r\n\r\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { EventTarget } from 'cc';\r\n\r\nclass EventManager extends EventTarget\r\n{\r\n    instance: EventManager = null;\r\n    GetInstance()\r\n    {\r\n        if (this.instance == null)\r\n        {\r\n            this.instance = new EventManager()\r\n        }\r\n        return this.instance;\r\n    }\r\n}\r\nexport default new EventManager;","\r\nimport { _decorator, Component, input, Input, EventKeyboard, KeyCode, Node, Prefab, instantiate, CCBoolean, resources, JsonAsset, MeshRenderer, v3, Line, Vec2, Vec3, assetManager } from 'cc';\r\nimport EventManager from './core/EventManager';\r\nimport { ActionViewMain, EventType } from './core/Constant';\r\nimport { ViewLoading } from './ViewLoading';\r\nimport { Box } from './Box';\r\nimport { Border } from './Border';\r\n\r\nimport { CameraManager } from './CameraManager';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nenum STATE\r\n{\r\n    NONE,\r\n}\r\n\r\n@ccclass('GameManager')\r\nexport class GameManager extends Component\r\n{\r\n    private static _instance: GameManager = null;\r\n    static get instance(): GameManager\r\n    {\r\n        return this._instance;\r\n    }\r\n\r\n    @property(CCBoolean)\r\n    isDebug: boolean = false;\r\n\r\n    @property({type: ViewLoading})\r\n    viewLoading: ViewLoading = null;\r\n\r\n    @property({type: Prefab})\r\n    boxPrefab: Prefab;\r\n    @property({type: Node})\r\n    boxPool: Node;\r\n\r\n    @property({type: Prefab})\r\n    borderPrefab: Prefab;\r\n    @property({type: Node})\r\n    borderPool: Node;\r\n\r\n    @property({type: Node})\r\n    plane: Node;\r\n\r\n    private state: STATE = STATE.NONE;\r\n    private boxsData: any[] = [];\r\n\r\n    async onLoad()\r\n    {\r\n        GameManager._instance = this;\r\n\r\n        input.on(Input.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        \r\n        this.viewLoading.Show();\r\n\r\n        await this._LoadBoxData();\r\n        this._GenerateBox();\r\n        this._GenerateBorder();\r\n        this._InitPlane();\r\n\r\n        this.viewLoading.Hide();\r\n    }\r\n\r\n    onDestroy () \r\n    {\r\n        input.off(Input.EventType.KEY_DOWN, this.onKeyDown, this);\r\n    }\r\n\r\n    onKeyDown (event: EventKeyboard) \r\n    {\r\n        switch (event.keyCode)\r\n        {\r\n            case KeyCode.SPACE:                \r\n                break;\r\n        }\r\n    }\r\n\r\n    start()\r\n    {\r\n        EventManager.GetInstance().on(EventType.VIEW_MAIN, this.OnViewMainEvent, this);\r\n        this._SetState(STATE.NONE);\r\n\r\n        \r\n    }\r\n\r\n    update(deltaTime: number)\r\n    {\r\n        switch (this.state)\r\n        {\r\n            case STATE.NONE:\r\n                break;\r\n        }\r\n    }\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    private _SetState(state: STATE)\r\n    {\r\n        this.state = state;\r\n\r\n        switch (this.state)\r\n        {\r\n            case STATE.NONE:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private _GetBoxInPool()\r\n    {\r\n        if (this.boxPool.children.length > 0)\r\n        {\r\n            let node = this.boxPool.children.find( e => !e.active );\r\n            \r\n            if (node != null)\r\n            {\r\n                node.getComponent(Box).Reset();\r\n                return node;\r\n            }\r\n        }\r\n\r\n        let boxNode = instantiate(this.boxPrefab);\r\n        boxNode.setParent(this.boxPool);\r\n\r\n        let box = boxNode.getComponent(Box);\r\n        box.Reset();\r\n        return boxNode;\r\n    }\r\n\r\n    private _GetBorderInPool()\r\n    {\r\n        if (this.borderPool.children.length > 0)\r\n        {\r\n            let node = this.borderPool.children.find( e => !e.active );\r\n            \r\n            if (node != null)\r\n            {\r\n                node.getComponent(Border).Reset();\r\n                return node;\r\n            }\r\n        }\r\n\r\n        let borderNode = instantiate(this.borderPrefab);\r\n        borderNode.setParent(this.borderPool);\r\n\r\n        let border = borderNode.getComponent(Border);\r\n        border.Reset();\r\n        return borderNode;\r\n    }\r\n\r\n    private _LoadBoxData(): Promise<void>\r\n    {\r\n        // load box data\r\n        return new Promise((resolve) => {\r\n            // resources.load(\"test_assets/prefab\", Prefab, (err, prefab) => {\r\n            //     const newNode = instantiate(prefab);\r\n            //     director.getScene().addChild(newNode);\r\n            // });\r\n            resources.load('data/warehouse_04', JsonAsset, (error, res) => {\r\n                if(error)\r\n                {\r\n                    console.error('Error load data_json');\r\n                    return;\r\n                }\r\n                this.boxsData = res.json['boxs'];\r\n                resolve();\r\n            })\r\n\r\n            // assetManager.loadRemote<JsonAsset>('warehouse_04.json', (error, res) => {\r\n            //     if(error)\r\n            //     {\r\n            //         console.error('Error load data_json');\r\n            //         return;\r\n            //     }\r\n\r\n            //     this.boxsData = res.json['boxs'];\r\n            //     resolve();\r\n            // });\r\n        })\r\n    }\r\n\r\n    private _GenerateBox()\r\n    {\r\n        this.boxsData.forEach( (data, i) => {\r\n\r\n            // if (i < 20)\r\n            {\r\n                let nodeBox = this._GetBoxInPool();\r\n                // nodeBox.active = true;\r\n                let offsetRow = 4 * Math.floor( data.row / 4 );\r\n                nodeBox.getComponent(Box).Init(data.row + offsetRow, data.floor, data.col);\r\n    \r\n                // // todo: remove cheat\r\n                // let rd = Math.random()\r\n                // if ( \r\n                //         rd > 0.35\r\n                //         // (data.row < 4 && data.col > 40)\r\n                // )\r\n                // {\r\n                //     nodeBox.getComponentInChildren(MeshRenderer).enabled = false;\r\n                // }\r\n            }\r\n        });\r\n    }\r\n\r\n    private _GenerateBorder()\r\n    {\r\n        this.boxsData.forEach((data, i) => {\r\n            if (i==0 || (i%10 == 0))\r\n            {\r\n                let nodeBorder = this._GetBorderInPool();\r\n                let offsetRow = 4 * Math.floor( data.row / 4 );\r\n                nodeBorder.getComponent(Border).Init(v3(data.row + offsetRow, data.floor, data.col), 5, v3(1, 1, 2));\r\n            }\r\n        });\r\n    }\r\n\r\n    private _InitPlane()\r\n    {\r\n        let borderWidth = 4;\r\n        let xPos = (28 + borderWidth * 2) * 0.5 - borderWidth;\r\n        let zPos = (50 + borderWidth * 2) * 0.5 - borderWidth;\r\n        let xScale = (28 + borderWidth * 2) * 0.1;\r\n        let zScale = (50 + borderWidth * 2) * 0.1;\r\n\r\n        this.plane.setPosition(v3(xPos, -0.1, zPos));\r\n        this.plane.setScale(v3(xScale, 1, zScale));\r\n    }\r\n    \r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    OnViewMainEvent(paramaters: any)\r\n    {\r\n        // switch (paramaters.action)\r\n        // {\r\n        //     case ActionViewMain.INSTRUCTIONS:\r\n        //     case ActionViewMain.PLAY_GAME:\r\n        //     case ActionViewMain.ZEN_MODE:\r\n        //         break;\r\n        // }\r\n    }\r\n}","\r\nimport { _decorator, Component, Node, director, SceneAsset } from 'cc';\r\nimport {SceneName} from './core/Constant';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PreloadManager')\r\nexport class PreloadManager extends Component {\r\n    \r\n    @property(Node)\r\n    viewLoading:Node;\r\n\r\n    @property(Node)\r\n    labelLoading:Node;\r\n\r\n    @property(Node)\r\n    labelRetry:Node;\r\n\r\n    @property(Node)\r\n    btnRetry:Node;    \r\n\r\n    onLoad()\r\n    {\r\n        \r\n    }\r\n\r\n    start () \r\n    {\r\n        director.preloadScene(SceneName.INIT, this.OnSceneLoaded.bind(this));\r\n    }\r\n\r\n    update (deltaTime: number) \r\n    {        \r\n    }\r\n\r\n    OnSceneLoaded(error: Error, sceneAsset: SceneAsset)\r\n    {\r\n        if (!error)\r\n        {\r\n            console.log(\"OnSceneLoaded success\", sceneAsset);\r\n            director.loadScene(SceneName.MAIN);\r\n        }\r\n        else\r\n        {\r\n            console.log(\"OnSceneLoaded error\");\r\n        }\r\n    }\r\n}","export default class Timer\r\n{\r\n    timer: number = 0;\r\n    duration: number = 0;\r\n    overhead: number = 0;\r\n    isDone: Boolean = true;\r\n\r\n    SetDuration(duration: number)\r\n    {\r\n        this.timer = this.duration = duration;\r\n        this.overhead = 0;\r\n        this.isDone = false;\r\n    }\r\n\r\n    AddTime(duration: number)\r\n    {\r\n        this.timer += duration;\r\n        this.overhead = 0;\r\n        this.isDone = false;\r\n    }\r\n\r\n    GetTime()\r\n    {\r\n        return this.timer;\r\n    }\r\n\r\n    GetTimePercent()\r\n    {\r\n        return this.timer / this.duration;\r\n    }\r\n\r\n    Reset()\r\n    {\r\n        this.timer = this.duration;\r\n        this.overhead = 0;\r\n        this.isDone = false;\r\n    }\r\n\r\n    IsDone()\r\n    {\r\n        return this.timer == 0;\r\n    }\r\n\r\n    JustFinished()\r\n    {\r\n        if (this.timer > 0)\r\n        {\r\n            return false;\r\n        }\r\n        if (this.isDone)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        this.isDone = true;\r\n        return true;\r\n    }\r\n\r\n    Update(deltaTime: number)\r\n    {\r\n        if (this.timer == 0)\r\n        {\r\n            return;\r\n        }\r\n\r\n        this.timer -= deltaTime;\r\n        if (this.timer < 0)\r\n        {\r\n            this.overhead = -this.timer;\r\n            this.timer = 0;\r\n        }\r\n    }\r\n}\r\n","export function Rand(min: number, max: number)\r\n{\r\n    return (Math.random() * (max - min)) + min;\r\n}\r\n\r\nexport function RandInt(min: number, max: number)\r\n{\r\n    return Math.floor((Math.random() * (max - min + 1)) + min);\r\n}\r\n\r\nexport function Clamp(num: number, min: number, max: number)\r\n{\r\n     return Math.min(Math.max(num, min), max);\r\n}  ","import { _decorator, Component, Node } from 'cc';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ViewLoading')\r\nexport class ViewLoading extends Component\r\n{\r\n    @property({type:Node})\r\n    logo: Node;\r\n        \r\n    start()\r\n    {\r\n    }\r\n\r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    Show()\r\n    {\r\n        this.node.active = true;\r\n    }\r\n\r\n    Hide(callback?: any)\r\n    {\r\n        this.node.active = false;\r\n    }\r\n    \r\n//----------------------------------------------------------------------------------------------------------------------------------------\r\n    // OnInstructions()\r\n    // {\r\n    //     let paramaters = {\r\n    //         action: ActionViewMain.INSTRUCTIONS,\r\n    //         data: {}\r\n    //     }\r\n    //     EventManager.GetInstance().emit(EventType.VIEW_MAIN, paramaters);\r\n    // }\r\n\r\n    // OnPlay()\r\n    // {\r\n    //     let paramaters = {\r\n    //         action: ActionViewMain.PLAY_GAME,\r\n    //         data: {}\r\n    //     }\r\n    //     EventManager.GetInstance().emit(EventType.VIEW_MAIN, paramaters);\r\n    // }\r\n\r\n    // OnZenMode()\r\n    // {\r\n    //     let paramaters = {\r\n    //         action: ActionViewMain.ZEN_MODE,\r\n    //         data: {}\r\n    //     }\r\n    //     EventManager.GetInstance().emit(EventType.VIEW_MAIN, paramaters);\r\n    // }\r\n    \r\n}\r\n"]}